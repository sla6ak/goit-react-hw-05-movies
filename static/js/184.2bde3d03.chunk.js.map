{"version":3,"file":"static/js/184.2bde3d03.chunk.js","mappings":"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","sources":["components/FilmCard/FilmCard.styled.jsx","components/FilmCard/FilmCard.jsx","components/MoviesPage/MoviesPage.jsx","components/MoviesPage/MoviesPage.styled.jsx","utilits/fetchAPI.js"],"sourcesContent":["import styled from \"@emotion/styled\";\n\nexport const Poster = styled.img` \n  height: 85%;\n  width: 100%;\n`\n\nexport const FilmTitle = styled.h2` \ncolor: #333;\nheight: 30px;\nfont-size:20px;\npadding: 10px;\n`\n\nexport const CardFilm = styled.li` \n display: flex;\n flex-direction: column;\n  height: 100%;\nwidth: 100%;\nborder-radius: 5px;\noverflow: hidden;\nbackground-color:#bdb9a6;\n  box-shadow: -2px -2px 7px rgb(109, 109, 109);\ntransition: transform 300ms cubic-bezier(0.165, 0.84, 0.44, 1);\n:hover {\n    transform: scale(1.03);\n  }\n`","import { Poster, FilmTitle, CardFilm } from './FilmCard.styled'\nimport PropTypes from 'prop-types'\nconst imgBaseUrl = 'https://image.tmdb.org/t/p/w300';\n\n\nconst FilmCard = ({ title, poster_path }) => {\n    return (\n      <CardFilm>\n          {poster_path ? <Poster src={`${imgBaseUrl}${poster_path}`} />:<Poster src='https://www.jakartaplayers.org/uploads/1/2/5/5/12551960/2297419_orig.jpg' /> }\n        <FilmTitle>{title}</FilmTitle>\n      </CardFilm>\n  )\n}\n\nFilmCard.propTypes = {\n    poster_path: PropTypes.string,\n    title: PropTypes.string,\n}\n\nexport default FilmCard","\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport { SerchForm, SerchButton, InputWord, BoxFilms } from './MoviesPage.styled';\nimport { findFilmsTitle } from 'utilits/fetchAPI';\nimport { useState, useEffect } from \"react\";\nimport { Link, useSearchParams,  useLocation } from 'react-router-dom' //  в линк мы должны передать объект стейт чтоб там была ссылка для возврата обратно\nimport FilmCard from 'components/FilmCard/FilmCard';\n\nconst MoviesPage = () => {\n  const [arreyFilms, SetArreyFilms] = useState([])\n  let [searchParams, setSearchParams] = useSearchParams(); // СОЗДАЕМ ОБЪЕКТ ПРИ ВВОДЕ ПОИКОВОГО СЛОВА\n  const location = useLocation();\n\n  // Тут следим за вводом поискового слова в инпут сохраняем тут же в параметры для запроса\n  const onInpurWord = e => {\n    if (e.target.value === '') {\n      setSearchParams({}); // если поисковое слово пусто то и параметры поиска пустые\n      return;\n    }\n    setSearchParams({ query: e.target.value.toLowerCase().trim() }); // QERY в поисковом параметре мы СОЗДАЕМ тут и там просто лежит слово\n  };\n\n  //вынесли запрос для переиспользования в сабмите и юзэффекте\n  const eventNo = () => {\n     const search = location.search;\n    const searchQuery = searchParams.get('query');\n    findFilmsTitle(searchQuery, search).then((r)=>{\n      SetArreyFilms(r.results);\n    })\n  }\n\n  // тут обрабатываем данные формы и получаем массив фильмов\n  const formSubmit = event => {\n    event.preventDefault();\n    eventNo()\n  };\n\n    // отправляем данные запроса если нас вернуло и в памяти есть поисковое слово\n  useEffect(() => {\n    eventNo()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <>\n      <SerchForm onSubmit={formSubmit}>\n        <SerchButton type=\"submit\">\n          <AiOutlineSearch style={{color: \"rgb(250, 250, 250)\", width: \"100%\", height: \"100%\"}} />\n        </SerchButton>\n        <InputWord\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onInput={onInpurWord}\n          value={searchParams.get('query') === null ? '' : searchParams.get('query')}\n        />\n      </SerchForm>\n\n      {arreyFilms.length > 0 && <BoxFilms>\n        {arreyFilms.map(film => {\n        return (\n          <Link key={film.id} to={''+film.id} \n                  state={{ from: location }}>\n              <FilmCard poster_path={film.poster_path} title={film.title} />\n            </Link>\n          );\n        })}\n      </BoxFilms>}\n    </>\n  )\n}\n\nexport default MoviesPage","import styled from \"@emotion/styled\";\n\nexport const SerchForm = styled.form` \ndisplay: flex;\nalign-items: center;\njustify-content: center;\n`\n\nexport const SerchButton = styled.button`\nbackground-color: transparent;\nwidth: 20px;\nheight: 20px;\nborder: none;\nopacity: 0.7;\n:hover {\n    opacity: 1;\n  }\n`\n\nexport const InputWord = styled.input`\nheight: 30px;\ndisplay: flex;\nmargin-left: 10px;\npadding: 2px 10px;\nborder-radius: 7px;\nbox-shadow: 1px 1px 10px rgb(220, 187, 228);\ncolor: rgb(123, 59, 207);\nfont: inherit;`\n\nexport const BoxFilms = styled.ul` \n display: grid;\n/* max-width: calc(100vw - 48px); */\ngrid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\ngrid-gap: 16px;\nmargin-top: 30px;\nmargin-bottom: 20px;\npadding: 0;\nlist-style: none;\nmargin-left: auto;\nmargin-right: auto;\nmin-height: 100%;\nmax-width: 1400px;\n`\n\n\n","// https://api.themoviedb.org/3/movie/550?api_key=c4ff5df06d9c3bc212d0ff99e5222626\n\nconst baseUrl = \"https://api.themoviedb.org/3/\"\nconst KEY = 'c4ff5df06d9c3bc212d0ff99e5222626'\n\nexport const findPopularFilms = async () => {\n    const meta = new URLSearchParams({\n        api_key: KEY,\n        page: 1,\n    });\n    const f = await fetch(`${baseUrl}trending/movie/week?${meta}`)\n    const r = await f.json()\n    return r\n}\n\nexport const findFilmsTitle = async (searchQuery, search) => {\n    if (!searchQuery) return;\n    const query = new URLSearchParams(search).get('query') ?? ''; // если данные формы утеряны то поисковое слово пустая строка\n    const meta = new URLSearchParams({\n        api_key: KEY,\n        page: 1,\n        query, // тут будет полученный квери(слово поиска) из формсабмита который прилетает в переменной search\n        include_adult: false,\n    });\n    const f = await fetch(`${baseUrl}search/movie?${meta}`)\n    const r = await f.json()\n    return r\n}\n\nexport const findFilmsInfo = async (id) => {\n    const meta = new URLSearchParams({\n        api_key: KEY,\n    });\n    const f = await fetch(`${baseUrl}movie/${id}?${meta}&append_to_response=credits,reviews`)\n    const r = await f.json()\n    return r\n}"],"names":["Poster","styled","FilmTitle","CardFilm","title","poster_path","src","useState","arreyFilms","SetArreyFilms","useSearchParams","searchParams","setSearchParams","location","useLocation","eventNo","search","searchQuery","get","findFilmsTitle","then","r","results","useEffect","onSubmit","event","preventDefault","type","style","color","width","height","autoComplete","autoFocus","placeholder","onInput","e","target","value","query","toLowerCase","trim","length","map","film","to","id","state","from","SerchForm","SerchButton","InputWord","BoxFilms","baseUrl","KEY","findPopularFilms","meta","URLSearchParams","api_key","page","fetch","f","json","include_adult","findFilmsInfo"],"sourceRoot":""}